configVersion: 1
project: snapshot-controller
cleanup:
  keepPolicies:
  - references:
      branch: /.*/
      limit:
        in: 168h
  - references:
      branch: /release-[0-9]+.*/
      limit:
        last: 5
    imagesPerReference:
      last: 1
  - references:
      tag: /.*/
      limit:
        last: 5
    imagesPerReference:
      last: 1
  - references:
      branch: /master|main/
      limit:
        last: 1
    imagesPerReference:
      last: 1
